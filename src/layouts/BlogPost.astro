---
import type { CollectionEntry } from 'astro:content';
import RootLayout from './RootLayout.astro';
import FormattedDate from '../components/FormattedDate.astro';

type Props = CollectionEntry<'blog'>['data'];

const { title, description, pubDate, updatedDate } = Astro.props;
---

<RootLayout title={title} description={description}>
	<article>
		<div class="prose">
			<div class="title">
				<div class="date">
					<h1>{title}</h1>
					<FormattedDate date={pubDate} />
					{
						updatedDate && (
							<div class="last-updated-on">
								Last updated on <FormattedDate date={updatedDate} />
							</div>
						)
					}
				</div>
				<hr />
			</div>
		<div class="disclaimer">
  <strong>Note:</strong> This post is a personal learning note and may contain inaccuracies or misunderstandings.
</div>
			<slot />
		</div>
	</article>
</RootLayout>

<style>
	article {
		width: 100%;
	}
	
	.prose {
		max-width: 720px;
		margin: 0 auto;
		color: rgb(var(--gray-dark));
	}
	
	.title {
		margin-bottom: 1em;
		padding: 1em 0;
		line-height: 1;
	}
	
	.date {
		margin-bottom: 0.5em;
		text-align: left;
		font-size: 1rem;
		color: rgb(var(--gray));
	}
	
	.last-updated-on {
		font-style: italic;
	}

	.disclaimer {
		background-color: #fef3c7;
		border-left: 4px solid #f59e0b;
		padding: 1rem 1.25rem;
		margin-bottom: 2rem;
		border-radius: 0.25rem;
		color: #92400e;
		font-size: 0.9rem;
		line-height: 1.5;
	}

	.disclaimer strong {
		color: #78350f;
	}
</style>
